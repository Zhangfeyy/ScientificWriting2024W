import matplotlib.pyplot as plt
import numpy as np
from scipy.optimize import curve_fit



def convert(list1):
    set1 = set([item for sublist in list1 for item in sublist])
    print(len(set1))
    return set1


date_27 = [['黎巴嫩', '以色列', '法国', '美国'], ['美国'], ['伊朗', '德国', '法国', '英国', '美国'], ['美国'],
           ['俄罗斯', '乌克兰'], ['土耳其'], ['法国', '美国'], ['巴勒斯坦', '黎巴嫩', '以色列', '美国'], ['中国'],
           ['美国'], ['巴基斯坦', '泰国', '美国', '阿根廷', '中国'], ['乌克兰', '希腊'], ['日本'],
           ['泰国', '乌兹别克斯坦', '巴西', '中国'], ['美国'], ['黎巴嫩', '以色列', '法国', '美国'],
           ['波兰', '乌克兰', '匈牙利'], ['巴勒斯坦', '中国'], ['黎巴嫩'], ['美国', '中国'],
           ['巴勒斯坦', '黎巴嫩', '以色列', '法国', '美国'], ['黎巴嫩', '伊朗', '以色列'], ['美国'],
           ['比利时', '波兰', '德国', '法国', '西班牙'],
           ['奥地利', '比利时', '波兰', '法国', '芬兰', '罗马尼亚', '马耳他', '斯洛伐克', '匈牙利', '意大利'],
           ['黎巴嫩', '以色列'], ['巴西'], ['加拿大', '美国', '墨西哥'], ['美国'], ['苏丹'], ['俄罗斯', '乌克兰'],
           ['巴勒斯坦', '伊朗', '以色列'], ['苏丹'], ['加拿大', '美国', '墨西哥'], ['中非共和国'], ['俄罗斯', '英国'],
           ['刚果（金）'], ['苏丹']]
date_26 = [['厄立特里亚', '苏丹'],
           ['加拿大', '美国', '墨西哥'],
           ['印度尼西亚'],
           ['埃及'],
           ['黎巴嫩'],
           ['埃及', '爱尔兰', '比利时', '波兰', '德国', '芬兰', '瑞士', '斯洛伐克', '西班牙', '英国', '美国', '中国'],
           ['黎巴嫩', '以色列'],
           ['俄罗斯', '英国'],
           ['日本', '中国'],
           ['东帝汶', '印度', '俄罗斯', '英国', '加拿大', '美国', '中国'],
           ['韩国', '吉尔吉斯斯坦', '日本', '泰国', '马达加斯加', '瑞典', '巴西', '澳大利亚', '中国'],
           ['哈萨克斯坦', '俄罗斯'],
           ['白俄罗斯', '中国'],
           ['乌兹别克斯坦', '中非共和国', '巴西', '秘鲁', '中国'],
           ['美国'],
           ['巴西', '中国'],
           ['乌克兰', '英国'],
           ['巴勒斯坦', '以色列'],
           ['苏丹'],
           ['黎巴嫩', '以色列', '法国', '美国'],
           ['美国', '中国'],
           ['韩国', '日本'],
           ['加拿大', '美国', '墨西哥', '中国'],
           ['古巴', '中国'],
           ['印度', '美国', '墨西哥', '阿根廷', '巴西', '澳大利亚', '中国'],
           ['乌克兰']]
date_25 = [['埃及', '中国'],
           ['马来西亚', '中国'],
           ['埃及'],
           ['巴西', '秘鲁', '中国'],
           ['印度尼西亚'],
           ['埃及'],
           ['韩国', '肯尼亚', '法国', '加拿大', '乌拉圭', '中国'],
           ['以色列'],
           ['伊朗', '德国', '法国', '英国', '美国'],
           ['美国', '巴西', '秘鲁', '智利', '中国'],
           ['以色列'],
           ['乌克兰'],
           ['德国', '立陶宛'],
           ['德国', '立陶宛'],
           ['哈萨克斯坦', '印度', '荷兰', '瑞士', '意大利', '美国', '中国'],
           ['印度', '美国', '巴西', '中国'],
           ['乌拉圭'],
           ['美国'],
           ['韩国'],
           ['乌克兰', '巴西', '中国'],
           ['美国'],
           ['奥地利', '俄罗斯', '法国', '乌克兰', '英国'],
           ['美国'],
           ['印度尼西亚'],
           ['罗马尼亚'],
           ['菲律宾'],
           ['中国'],
           ['巴西', '秘鲁', '玻利维亚', '智利', '中国'],
           ['泰国', '秘鲁', '中国'],
           ['斐济', '中国'],
           ['中国'],
           ['苏丹', '马耳他', '中国'],
           ['韩国', '马来西亚', '日本', '泰国', '摩洛哥', '中国'],
           ['印度'],
           ['俄罗斯', '加拿大', '美国'],
           ['日本'],
           ['土耳其', '俄罗斯'],
           ['巴基斯坦']]
date_24 = [['俄罗斯', '美国'],
           ['菲律宾'],
           ['日本', '新加坡', '马绍尔群岛'],
           ['俄罗斯', '乌克兰'],
           ['罗马尼亚'],
           ['菲律宾'],
           ['波兰', '捷克', '塞尔维亚', '斯洛伐克', '匈牙利', '中国'],
           ['伊拉克', '中国'],
           ['巴基斯坦', '泰国', '秘鲁', '中国'],
           ['俄罗斯', '法国', '乌克兰', '英国'],
           ['巴勒斯坦', '以色列', '加拿大'],
           ['南非', '巴西', '秘鲁', '智利', '中国'],
           ['阿塞拜疆', '塞拉利昂', '中国'],
           ['巴基斯坦'],
           ['老挝', '缅甸', '中国'],
           ['阿尔巴尼亚', '中国'],
           ['巴西', '秘鲁'],
           ['韩国', '印度', '南非', '法国', '美国', '巴西', '秘鲁', '中国'],
           ['以色列', '约旦'],
           ['美国'],
           ['苏丹'],
           ['中国'],
           ['美国'],
           ['日本'],
           ['阿根廷', '委内瑞拉'],
           ['阿塞拜疆'],
           ['利比亚', '尼日尔', '法国'],
           ['法国'],
           ['阿曼', '巴勒斯坦', '沙特阿拉伯', '埃及', '突尼斯', '中国'],
           ['美国', '中国'],
           ['巴西', '中国'],
           ['比利时', '俄罗斯', '英国', '美国'],
           ['加拿大', '中国'],
           ['哈萨克斯坦', '马尔代夫', '埃及', '法国', '乌克兰', '希腊', '巴西', '秘鲁', '中国'],
           ['巴西', '中国'],
           ['斐济', '中国'],
           ['德国', '俄罗斯', '芬兰', '美国', '阿根廷', '巴西', '秘鲁', '智利', '澳大利亚', '中国'],
           ['巴基斯坦'],
           ['俄罗斯', '乌克兰', '美国'],
           ['俄罗斯']]
date_23 = [['日本'],
           ['斯里兰卡'],
           ['苏丹'],
           ['黎巴嫩', '以色列'],
           ['南非', '美国', '巴西', '秘鲁', '智利', '中国'],
           ['土耳其', '以色列'],
           ['苏丹'],
           ['日本', '美国'],
           ['日本'],
           ['英国'],
           ['泰国', '澳大利亚', '中国'],
           ['巴西', '中国'],
           ['马来西亚', '印度尼西亚', '中国'],
           ['韩国', '日本', '文莱', '新加坡', '爱沙尼亚', '保加利亚', '黑山', '克罗地亚', '拉脱维亚', '罗马尼亚',
            '马耳他', '斯洛伐克', '中国'],
           ['美国'],
           ['伯利兹', '美国'],
           ['塔吉克斯坦', '中国'],
           ['黎巴嫩', '以色列'],
           ['美国'],
           ['美国', '巴西', '中国'],
           ['古巴', '墨西哥', '阿根廷', '巴西', '秘鲁', '智利', '中国'],
           ['巴基斯坦', '塞舌尔', '中国'],
           ['波黑', '塞尔维亚'],
           ['洪都拉斯', '美国', '墨西哥', '哥伦比亚', '委内瑞拉'],
           ['中国'],
           ['美国'],
           ['俄罗斯', '乌克兰'],
           ['美国'],
           ['黎巴嫩', '叙利亚', '也门', '伊拉克', '伊朗', '以色列', '印度', '西班牙', '美国'],
           ['韩国', '俄罗斯', '乌克兰', '美国'],
           ['土耳其', '匈牙利', '中国'],
           ['以色列', '美国'],
           ['澳大利亚'],
           ['瑞士', '中国'],
           ['乌克兰', '巴西', '中国'],
           ['巴基斯坦', '菲律宾', '韩国', '泰国', '新加坡', '印度尼西亚', '秘鲁', '新西兰', '中国'],
           ['朝鲜', '美国'],
           ['美国'],
           ['美国'],
           ['美国'],
           ['俄罗斯', '乌克兰'],
           ['塞尔维亚', '中国'],
           ['加拿大'],
           ['塞尔维亚', '斯洛伐克', '乌克兰', '美国'],
           ['尼加拉瓜'],
           ['巴勒斯坦', '以色列', '埃及', '利比亚', '挪威'],
           ['苏丹'],
           ['巴基斯坦'],
           ['捷克', '乌克兰'],
           ['乌克兰'],
           ['俄罗斯', '乌克兰'],
           ['乌克兰', '加拿大'],
           ['以色列'],
           ['俄罗斯', '乌克兰', '英国', '美国'],
           ['法国'],
           ['沙特阿拉伯'],
           ['巴勒斯坦', '叙利亚', '伊朗', '以色列', '约旦', '南非', '波黑', '法国', '荷兰', '捷克', '英国', '美国']]
date_22 = [['俄罗斯', '乌克兰', '美国'],
           ['英国'],
           ['俄罗斯', '捷克', '乌克兰', '英国', '美国'],
           ['俄罗斯', '乌克兰'],
           ['俄罗斯', '乌克兰', '英国', '美国'],
           ['俄罗斯', '乌克兰', '英国', '美国'],
           ['以色列'],
           ['中国'],
           ['英国'],
           ['伊朗', '德国', '俄罗斯', '法国', '英国', '美国', '中国'],
           ['卢森堡'],
           ['伊朗', '印度', '埃及', '布基纳法索', '南非', '德国', '俄罗斯', '法国', '英国', '美国', '巴西', '中国'],
           ['美国'],
           ['叙利亚', '也门'],
           ['巴西'],
           ['摩洛哥', '巴西', '中国'],
           ['巴西'],
           ['法国', '西班牙', '巴西', '中国'],
           ['巴西', '中国'],
           ['巴西', '中国'],
           ['俄罗斯', '中国'],
           ['苏丹', '中国'],
           ['德国'],
           ['巴勒斯坦', '乌克兰', '巴西', '中国'],
           ['日本'],
           ['美国'],
           ['美国'],
           ['阿联酋', '中国'],
           ['日本'],
           ['乌克兰', '巴西', '中国'],
           ['美国', '中国'],
           ['美国'],
           ['阿塞拜疆', '中国'],
           ['俄罗斯', '乌克兰', '美国'],
           ['巴基斯坦'],
           ['塞内加尔']]
date_21 = [['美国', '巴西', '中国'],
           [
               '巴基斯坦', '乌兹别克斯坦', '安哥拉', '肯尼亚', '尼日利亚', '塞舌尔', '塞尔维亚', '乌克兰', '希腊',
               '英国', '加拿大', '美国', '阿根廷', '巴西', '秘鲁', '中国'],
           ['巴西', '中国'],
           ['巴西', '中国'],
           ['巴西', '中国'],
           ['印度尼西亚', '巴拉圭', '巴西', '秘鲁', '玻利维亚', '乌拉圭', '智利', '中国'],
           ['巴西', '中国'],
           ['巴西', '中国'],
           ['巴西', '中国'],
           ['巴西', '中国'],
           ['乌克兰', '美国'],
           ['巴西'],
           [
               '柬埔寨', '马来西亚', '塔吉克斯坦', '泰国', '埃塞俄比亚', '吉布提', '几内亚', '肯尼亚', '南非', '乌干达',
               '俄罗斯', '中国'],
           ['巴西'],
           ['冰岛'],
           ['法国', '英国', '新西兰', '中国'],
           ['俄罗斯', '乌克兰', '英国'],
           ['巴西'],
           ['巴西', '中国'],
           ['巴勒斯坦', '以色列', '阿尔及利亚', '美国', '圭亚那', '中国'],
           ['俄罗斯'],
           ['卡塔尔', '伊朗'],
           ['巴勒斯坦', '美国', '圭亚那'],
           ['加拿大'],
           ['马里']]
date_20 = [['巴西', '中国'],
           ['巴西', '中国'],
           ['巴西', '中国'],
           ['德国'],
           ['意大利'],
           ['巴西'],
           ['巴西', '中国'],
           ['泰国', '巴西', '中国'],
           ['南非', '巴西', '中国'],
           ['美国', '巴西'],
           ['哥斯达黎加', '古巴', '洪都拉斯', '尼加拉瓜', '巴西', '秘鲁', '厄瓜多尔', '乌拉圭', '智利', '中国'],
           ['秘鲁', '中国'],
           ['巴西', '中国'],
           ['巴西'],
           ['巴西'],
           ['俄罗斯', '乌克兰', '美国'],
           ['马来西亚'],
           ['美国', '墨西哥'],
           ['巴西'],
           ['巴西'],
           ['英国'],
           ['黎巴嫩', '以色列'],
           ['巴西', '中国'],
           ['卢旺达', '乌克兰', '巴西', '秘鲁', '中国'],
           ['美国', '秘鲁', '中国'],
           ['法国', '乌克兰', '中国'],
           ['秘鲁', '玻利维亚', '中国'],
           ['德国', '乌克兰', '中国'],
           ['阿根廷', '中国'],
           ['巴西'],
           ['乌克兰'],
           ['俄罗斯', '乌克兰']]
date_19 = [['卡塔尔', '土耳其', '以色列'],
           ['印度', '俄罗斯'],
           ['俄罗斯', '乌克兰', '美国'],
           ['印度尼西亚'],
           ['阿塞拜疆', '美国', '中国'],
           ['美国', '巴西', '中国'],
           ['黎巴嫩', '美国'],
           ['美国'],
           ['白俄罗斯', '俄罗斯', '乌克兰'],
           ['白俄罗斯', '俄罗斯', '乌克兰', '美国'],
           ['黎巴嫩'],
           ['巴西', '中国'],
           ['巴西', '中国'],
           ['巴西', '中国'],
           ['巴西', '中国'],
           ['俄罗斯'],
           ['美国'],
           ['德国', '芬兰', '立陶宛', '瑞典'],
           ['韩国'],
           ['黎巴嫩', '以色列', '法国', '美国'],
           ['伊朗', '俄罗斯', '英国'],
           ['塞舌尔', '中国'],
           ['日本'],
           ['乌克兰', '美国', '巴西', '中国'],
           ['美国'],
           ['葡萄牙', '巴西'],
           ['日本'],
           ['芬兰', '挪威', '瑞典'],
           ['巴勒斯坦', '黎巴嫩', '叙利亚', '伊朗', '以色列', '美国', '中国'],
           ['意大利', '厄瓜多尔'],
           ['菲律宾'],
           ['美国'],
           ['韩国'],
           ['俄罗斯'],
           ['巴西', '中国'],
           ['苏丹', '乍得', '美国'],
           ['俄罗斯', '乌克兰', '美国'],
           ['美国']]
date_18 = [['墨西哥', '巴西', '中国'],
           ['爱沙尼亚'],
           ['西班牙'],
           ['卡塔尔', '土耳其'],
           ['新加坡', '俄罗斯', '英国', '美国', '秘鲁', '中国'],
           ['日本', '巴西', '中国'],
           ['韩国', '日本', '越南', '德国', '西班牙', '中国'],
           ['菲律宾', '巴西', '中国'],
           ['巴西', '中国'],
           ['秘鲁', '中国'],
           ['卢旺达', '巴西', '中国'],
           ['印度'],
           ['菲律宾'],
           ['以色列'],
           ['斯里兰卡'],
           ['巴西', '秘鲁', '中国'],
           ['苏丹'],
           ['美国'],
           ['巴西', '中国'],
           ['巴勒斯坦', '以色列'],
           ['土耳其'],
           ['俄罗斯', '英国', '美国'],
           ['韩国', '美国'],
           ['乌克兰'],
           ['以色列']]
date_17 = [['秘鲁', '中国'],
           ['阿塞拜疆', '布隆迪', '马里', '尼日利亚', '塞舌尔', '乍得', '安提瓜和巴布达', '中国'],
           ['巴西'],
           ['巴西'],
           ['美国', '秘鲁'],
           ['秘鲁', '中国'],
           ['阿联酋', '乌兹别克斯坦', '埃塞俄比亚', '法国', '秘鲁', '智利', '中国'],
           ['菲律宾', '意大利', '秘鲁', '中国'],
           ['巴西', '中国'],
           ['秘鲁', '中国'],
           ['乌克兰', '巴西', '中国'],
           ['菲律宾'],
           ['秘鲁', '中国'],
           ['秘鲁', '中国'],
           ['秘鲁', '中国'],
           ['巴西', '中国'],
           ['巴西', '中国'],
           ['尼泊尔', '埃及', '莫桑比克', '中国'],
           ['秘鲁', '中国'],
           ['秘鲁'],
           ['俄罗斯', '乌克兰'],
           ['乌克兰', '巴西', '中国'],
           ['秘鲁'],
           ['美国'],
           ['美国', '秘鲁', '中国'],
           ['美国'],
           ['巴西'],
           ['美国'],
           ['美国'],
           ['巴基斯坦', '韩国', '老挝', '马来西亚', '日本', '泰国', '土耳其', '印度尼西亚', '墨西哥', '秘鲁',
            '澳大利亚', '中国'],
           ['巴西', '中国'],
           ['秘鲁', '中国'],
           ['美国'],
           ['美国'],
           ['秘鲁', '中国'],
           ['巴西', '中国'],
           ['秘鲁', '中国'],
           ['乌克兰', '美国', '中国'],
           ['美国']]
date_16 = [['秘鲁'],
           ['美国'],
           ['秘鲁'],
           ['秘鲁', '中国'],
           ['秘鲁', '中国'],
           ['秘鲁', '中国'],
           ['意大利', '巴西', '秘鲁', '中国'],
           ['海地'],
           ['俄罗斯', '乌克兰', '美国'],
           ['秘鲁'],
           ['秘鲁'],
           ['秘鲁', '中国'],
           ['韩国', '日本', '新加坡', '希腊', '美国', '阿根廷', '巴西', '秘鲁', '玻利维亚', '委内瑞拉', '中国'],
           ['巴基斯坦', '希腊', '秘鲁', '中国'],
           ['秘鲁', '中国'],
           ['韩国', '泰国', '新加坡', '智利', '新西兰'],
           ['秘鲁', '中国'],
           ['韩国', '中国'],
           ['日本', '中国'],
           ['新西兰', '中国'],
           ['智利', '中国'],
           ['秘鲁', '中国'],
           ['秘鲁'],
           ['阿曼', '洪都拉斯', '尼加拉瓜', '巴西', '秘鲁', '厄瓜多尔', '智利', '中国'],
           ['秘鲁', '中国'],
           ['秘鲁', '厄瓜多尔', '哥伦比亚', '智利', '中国'],
           ['新加坡', '巴拿马', '墨西哥', '巴西', '秘鲁', '汤加', '中国'],
           ['中国'],
           ['巴勒斯坦', '卡塔尔', '黎巴嫩', '叙利亚', '以色列', '加纳', '法国', '美国'],
           ['日本'],
           ['乌克兰', '美国'],
           ['德国', '俄罗斯', '乌克兰']]
date_15 = [['德国', '中国'],
           ['秘鲁', '中国'],
           ['秘鲁'],
           ['俄罗斯'],
           ['美国'],
           ['秘鲁', '中国'],
           ['韩国'],
           ['朝鲜', '韩国', '日本', '美国', '巴西', '秘鲁', '中国'],
           ['秘鲁', '中国'],
           ['斯里兰卡'],
           ['韩国', '日本', '美国', '巴西', '秘鲁', '哥伦比亚', '中国'],
           ['哥斯达黎加', '尼加拉瓜', '特立尼达和多巴哥', '牙买加', '阿根廷', '巴西', '秘鲁', '厄瓜多尔', '智利',
            '中国'],
           ['苏丹', '乍得'],
           ['以色列'],
           ['美国'],
           ['秘鲁', '中国'],
           ['秘鲁', '中国'],
           ['秘鲁', '中国'],
           ['秘鲁'],
           ['巴勒斯坦', '伊拉克', '以色列'],
           ['苏丹']]
date_14 = [['英国'],
           ['德国', '乌克兰'],
           ['西班牙'],
           ['南非', '中国'],
           ['美国'],
           ['秘鲁', '哥伦比亚', '中国'],
           ['巴基斯坦'],
           ['荷兰', '厄瓜多尔'],
           ['乌克兰'],
           ['秘鲁'],
           ['西班牙', '中国'],
           ['日本'],
           ['加拿大', '美国'],
           ['菲律宾'],
           ['土耳其']]

sum_list = []

set_27 = convert(date_27)
set_26 = convert(date_26)
set_25 = convert(date_25)
set_24 = convert(date_24)
set_23 = convert(date_23)
set_22 = convert(date_22)
set_21 = convert(date_21)
set_20 = convert(date_20)
set_19 = convert(date_19)
set_18 = convert(date_18)
set_17 = convert(date_17)
set_16 = convert(date_16)
set_15 = convert(date_15)
set_14 = convert(date_14)

sum_list.append(set_14)
sum_list.append(set_15)
sum_list.append(set_16)
sum_list.append(set_17)
sum_list.append(set_18)
sum_list.append(set_19)
sum_list.append(set_20)
sum_list.append(set_21)
sum_list.append(set_22)
sum_list.append(set_23)
sum_list.append(set_24)
sum_list.append(set_25)
sum_list.append(set_26)
sum_list.append(set_27)

set_statistics = set()
list_y = []
# get y-values
list_x = [item for item in range(1, 15)]

# get x-values
for set in sum_list:
    set_statistics = set_statistics.union(set)
    list_y.append(len(set_statistics))

x = np.array(list_x)
y = np.array(list_y)


# Define fitting functions
def quadratic(x, a, b, c):
    return a * x**2 + b * x + c

def cubic(x, a, b, c, d):
    return a * x**3 + b * x**2 + c * x + d

def logarithmic(x, a, b):
    return a * np.log(x) + b

def power_law(x, a, b):
    return a * x**b

# Fit the data with each function
popt_quad, _ = curve_fit(quadratic, x, y)
popt_cubic, _ = curve_fit(cubic, x, y)
popt_log, _ = curve_fit(logarithmic, x, y)
popt_power, _ = curve_fit(power_law, x, y)

# Generate fitted values
y_quad_fit = quadratic(x, *popt_quad)
y_cubic_fit = cubic(x, *popt_cubic)
y_log_fit = logarithmic(x, *popt_log)
y_power_fit = power_law(x, *popt_power)

# Calculate R-squared for each model
def r_squared(y_actual, y_predicted):
    ss_res = np.sum((y_actual - y_predicted)**2)  # Residual sum of squares
    ss_tot = np.sum((y_actual - np.mean(y_actual))**2)  # Total sum of squares
    return 1 - (ss_res / ss_tot)

r2_quad = r_squared(y, y_quad_fit)
r2_cubic = r_squared(y, y_cubic_fit)
r2_log = r_squared(y, y_log_fit)
r2_power = r_squared(y, y_power_fit)

print(f"R-squared (Quadratic): {r2_quad:.4f}")
print(f"R-squared (Cubic): {r2_cubic:.4f}")
print(f"R-squared (Logarithmic): {r2_log:.4f}")
print(f"R-squared (Power-law): {r2_power:.4f}")


x_fit = np.linspace(min(x), max(x), 200)
y_quad = quadratic(x_fit, *popt_quad)
y_cubic = cubic(x_fit, *popt_cubic)
y_log = logarithmic(x_fit, *popt_log)
y_power = power_law(x_fit, *popt_power)

plt.scatter(x, y, color='blue', label='Data Points')
plt.plot(x_fit, y_quad, label='Quadratic Fit', color='red')
plt.plot(x_fit, y_cubic, label='Cubic Fit', color='green')
plt.plot(x_fit, y_log, label='Logarithmic Fit', color='orange')
plt.plot(x_fit, y_power, label='Power-law Fit', color='purple')

plt.title('Curve Fitting Example with R-squared')
plt.xlabel('X-axis')
plt.ylabel('Y-axis')
plt.legend()
plt.grid()
plt.savefig('curve_fits_with_r2.png', dpi=300)
plt.show()




plt.scatter(list_x, list_y, color='blue', label='Data Points')

# Customize the plot
plt.title('Scatter Plot Example')
plt.xlabel('day')
plt.ylabel('Y-axis')
plt.legend()

# Save the plot to a file
plt.savefig('scatter_plot.png', format='png', dpi=300)

# Optionally show the plot
plt.show()

a, b, c, d = popt_cubic

# Print the cubic function as a string
cubic_function_str = f"y = ({a:.4f})x^3 + ({b:.4f})x^2 + ({c:.4f})x + ({d:.4f})"
print(f"Cubic function: {cubic_function_str}")





# R-squared (Quadratic): 0.9830
# R-squared (Cubic): 0.9842
# R-squared (Logarithmic): 0.9500
# R-squared (Power-law): 0.9836
# Cubic function: y = (0.0246)x^3 + (-0.8783)x^2 + (16.9243)x + (2.9441)
# (21,197) # To cover all the countries, 21 days is needed